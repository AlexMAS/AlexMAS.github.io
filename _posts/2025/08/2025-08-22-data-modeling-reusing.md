---
layout: post
title: "Моделирование данных: переиспользование"
date: 2025-08-22
tags: view arch dev db
categories: post
thumbnail: /assets/img/blog/2025/2025-08-22-data-model-reusing.jpeg
metadata:
  selection: databases
---

Удачная модель данных склонна к повторному использованию. Это позволяет строить новые конструкции на основе существующих.

![](/assets/img/blog/2025/2025-08-22-data-model-reusing.jpeg)

Что нужно для переиспользования:

* *Смотреть на задачу чуть шире.* Это достаточно абстрактная рекомендация, но, думаю, она интуитивно понятна любому инженеру. Нужно постараться представить дальнейший ход событий или попробовать посмотреть на задачу с высоты птичьего полёта: не является ли она частью чего-то более общего или развитием уже существующего.

* *Сделать декомпозицию модели.* С одной стороны, чем меньше элементы, тем больше шансов, что они могут быть переиспользованы. С другой, высокая гранулярность создаёт риск переиспользования элементов в неподходящих контекстах. Более того, множество элементов добавляет дополнительные уровни в иерархии, что в свою очередь усложняет восприятие и поддержку.

> Например, стоит или нет выделять адрес клиента в отдельный элемент (Value Object или Entity)? Или лучше поместить эти данные in-plane в агрегат клиента? Если добавить отдельный элемент, то что делать, когда адрес может быть указан частично? Или когда адрес не может быть изменён, т.к. является частью бизнес-события, допустим, "адрес платежа". Даже в таком простом примере очень много нюансов.

Важно отметить, что *повторное использование относится не только к структурным элементам, но и к данным.* Например, для работы с часто используемыми и редко меняющимися данными лучше использовать нормализацию. Данные или результаты вычислений, необходимые многим на последующих этапах (downstream), следует выносить на ранние (upstream).
